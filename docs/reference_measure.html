

<!doctype html>

<html lang="jp">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Measure ウィンドウ &#8212; tsutsuji-trackcomputer  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CFG file format" href="cfgfileformat.html" />
    <link rel="prev" title="メニュー" href="reference_menu.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cfgfileformat.html" title="CFG file format"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="reference_menu.html" title="メニュー"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tsutsuji-trackcomputer  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="referenceguide.html" accesskey="U">Reference Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Measure ウィンドウ</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="measure">
<h1>Measure ウィンドウ<a class="headerlink" href="#measure" title="Permalink to this heading">¶</a></h1>
<a class="reference internal image-reference" href="_images/measure.png"><img alt="_images/measure.png" src="_images/measure.png" style="width: 305.4px; height: 203.4px;" /></a>
<section id="id1">
<h2>カーソル機能<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>プロットウィンドウ上の座標と方角を調べる機能です。
A-Dの4つのカーソルをそれぞれ独立に操作できます。</p>
<section id="id2">
<h3>マウスでの操作<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<section id="id3">
<h4>位置を調べる<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<p>Pos.ボタンを押すと、プロットウィンドウ上にx印カーソルが現れ、左クリックするまでの間マウスで位置を動かせます。
マウスでカーソルを動かしている間、カーソルの座標がx,yフィールドに表示されます（単位は[m]）。</p>
<p>trackボックスで <cite>&#64;absolute</cite> が指定されている場合は、カーソルはプロットウィンドウ内を自由に移動できます。</p>
<p>軌道上の座標を調べたい時は、trackボックスで軌道キーを選択してからPos.ボタンを押すと、対象の軌道に沿ってカーソルを動かせます。
このとき、カーソルが示す地点の距離程がkilopostフィールドに表示されます（単位は[m]）。</p>
</section>
<section id="id4">
<h4>方角を調べる<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<p>Dir.ボタンを押すと、プロットウィンドウ上に方角カーソルが現れ、左クリックするまでの間マウスで方角を動かせます。
マウスで方角を動かしている間、カーソルの方角がdirフィールドに表示されます(単位は[°])。</p>
<p>trackボックスで <cite>&#64;absolute</cite> が指定されている場合は、方角カーソルは360°自由な方向に向けられます。</p>
<p>trackボックスで軌道キーを選択している場合は、方角カーソルはx印カーソルが示している地点の軌道の向きにのみ向けられます。</p>
<img alt="_images/cursor_arrow.png" src="_images/cursor_arrow.png" />
</section>
</section>
<section id="id5">
<h3>カーソル座標の手入力<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<p>Val.ボタンを押すと、x, y, dir, kilopostフィールドに入力した値に基づいてカーソルの位置と方角を設定します。</p>
<p>trackボックスで <cite>&#64;absolute</cite> が指定されている場合は、x, y, dirフィールドの内容が反映されます。</p>
<p>trackボックスで軌道キーを指定している場合は、kilopostで指定した距離程上にカーソルが移動します。
この時x, y, dirフィールドの内容は無視されます。</p>
<p>Rel.をチェックしてからVal.ボタンを押すと、下記のset offsetダイアログが現れ、カーソルの現在位置に対して指定した値だけ位置と方角をオフセットできます。
座標系の取り方は下記を参照してください。
この機能はtrackボックスで軌道キーを選択している場合のみ有効です。</p>
<img alt="_images/cursor_setoffset.png" src="_images/cursor_setoffset.png" />
<img alt="_images/cursor_setoffset_coordinate.png" src="_images/cursor_setoffset_coordinate.png" />
</section>
</section>
<section id="id6">
<h2>測量機能<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h2>
<section id="distance-direction">
<h3>distance, direction<a class="headerlink" href="#distance-direction" title="Permalink to this heading">¶</a></h3>
<p>from, toボックスで選択した2つのカーソル間の距離、方角を表示します。</p>
<p>Pos., Dir.ボタンで選択したカーソルを動かしている間、値は自動で更新されます。
また、左クリックした時点での距離と方角がターミナルに印字されます。</p>
</section>
<section id="nearesttrack">
<h3>NearestTrack<a class="headerlink" href="#nearesttrack" title="Permalink to this heading">¶</a></h3>
<p>Cursorボックスで選択したカーソルに対して、trackボックスで選択した軌道上で最もカーソルに近い点を探索します。</p>
<p>カーソルと軌道を選択してNearestTrackボタンを押すと、下図のようにカーソルと軌道上の最近接点間にラインが引かれ、探索結果（最近接点に該当する距離程、カーソルとの距離）がターミナルに印字されます。</p>
<p>プロットウィンドウに引かれたラインは、メインウィンドウのReplotを実行すると消去できます。</p>
<img alt="_images/cursor_nearest.png" src="_images/cursor_nearest.png" />
</section>
<section id="id7">
<h3>//, ⊥<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<p>Cursorボックスで選択したカーソルに対して、方角カーソルが示す方角に応じた距離の測定を行います。</p>
<p>//ボタンを押すと、方角カーソルに沿った方向に動くカーソル(緑色)が現れ、親カーソルとの距離がdistanceフィールドに表示されます。
左クリックすると、その時点での測定データがターミナルに印字され、測定を終了します。</p>
<p>⊥ボタンを押すと、方角カーソルと直交する方向に動くカーソル(緑色)が現れ、//の場合と同じような測定ができます。</p>
<img alt="_images/cursor_along_across.png" src="_images/cursor_along_across.png" />
</section>
</section>
<section id="curvetrack-solver">
<span id="ref-measure-ctsolver"></span><h2>CurveTrack Solver<a class="headerlink" href="#curvetrack-solver" title="Permalink to this heading">¶</a></h2>
<p>α,βボックスで選択したカーソルを通る最適な曲線軌道を探索します。</p>
<p>2つのカーソルの位置と方角を決め、Modeを選択してDo Itボタンを押すと、計算結果がプロットウィンドウとターミナルに出力されます。</p>
<p>計算結果はCurve構文の形でも出力されます。
mapsyntaxチェックを外すと、Curve構文での出力を停止します。</p>
<p>プロット画面の曲線軌道計算結果は、メインウィンドウのReplotボタンを押すと消去されます。</p>
<p>緩和曲線つきの曲線軌道を計算する場合は、TCL α, TCL βフィールドに曲線前後の緩和曲線長を入力し、逓減関数をline/sinラジオボタンで選択しておきます。</p>
<section id="mode">
<h3>Mode<a class="headerlink" href="#mode" title="Permalink to this heading">¶</a></h3>
<p>計算Modeは次の5種類から選べます。</p>
<ul>
<li><ol class="arabic simple">
<li><p>α(fix)-&gt;β(free), R(free)</p></li>
</ol>
<ul class="simple">
<li><p>カーソルαを起点として、カーソルβの延長線上に終点をもつ曲線軌道の半径Rを求める</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="2">
<li><p>α(free)-&gt;β(fix), R(free)</p></li>
</ol>
<ul class="simple">
<li><p>カーソルβを終点として、カーソルαの延長線上に始点を持つ曲線軌道の半径Rを求める</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="3">
<li><p>α(free)-&gt;β(free), R(fix)</p></li>
</ol>
<ul class="simple">
<li><p>Rフィールドに入力された半径Rの曲線軌道について、カーソルα, βの延長線上に始点, 終点を持つものを求める</p></li>
<li><p>求めた軌道について、軌道始点とカーソルαとの距離を出力する</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="4">
<li><p>α(fix), R(fix), CCL(fix)</p></li>
</ol>
<ul class="simple">
<li><p>カーソルαを起点とする半径R, 円曲線長CCLの曲線軌道について、終点座標を求める</p></li>
<li><p>Assign results to cursorをチェックしている場合は、カーソルβを求めた終点座標に設定する</p></li>
</ul>
</li>
<li><ol class="arabic simple" start="5">
<li><p>β(fix), R(fix), CCL(fix)</p></li>
</ol>
<ul class="simple">
<li><p>カーソルβを終点とする半径R, 円曲線長CCLの曲線軌道について、起点座標を求める</p></li>
<li><p>Assign results to cursorをチェックしている場合は、カーソルαを求めた起点座標に設定する</p></li>
</ul>
</li>
</ul>
<img alt="_images/curvetracksolver.png" src="_images/curvetracksolver.png" />
<img alt="_images/curvetracksolver_4_5.png" src="_images/curvetracksolver_4_5.png" />
</section>
<section id="id8">
<h3>計算結果の出力例<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<p>上の図でMode 3の計算を行った場合のターミナル出力は以下の通りです。
# から始まる文は説明のために書き加えたもので、実際には出力されません。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[Curve fitting]
Inputs:
   Fitmode:          3. α(free)-&gt;β(free), R(fix)
   Cursor α,β:       A,B
   Ponint α:         (-109.225328, 12.428684)
   Ponint β:         (139.534313, 46.285293)
   Direction α:     33.036680
   Direction β:     -40.175224
   Transition func.: line
   TCL α:            0.000000
   TCL β:            0.000000
   R:                -400.000000
Results:
   CCL:        511.115511                # 円軌道の長さ
   startpoint: (-195.139998, -43.443185) # 始点座標
   shift:      -102.484127               # 始点座標とカーソルαの距離

# ここからCurve構文の出力
$pt_a -102.484127;                       # $pt_aはカーソルαの位置の距離程を想定
Curve.SetFunction(1);
Curve.Interpolate(0.000000,0.000000);
$pt_a -102.484127;
Curve.Interpolate(-400.000000,0.000000);
$pt_a +408.631384;
Curve.Interpolate(-400.000000,0.000000);
$pt_a +408.631384;
Curve.Interpolate(0.000000,0.000000);
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Measure ウィンドウ</a><ul>
<li><a class="reference internal" href="#id1">カーソル機能</a><ul>
<li><a class="reference internal" href="#id2">マウスでの操作</a><ul>
<li><a class="reference internal" href="#id3">位置を調べる</a></li>
<li><a class="reference internal" href="#id4">方角を調べる</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">カーソル座標の手入力</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">測量機能</a><ul>
<li><a class="reference internal" href="#distance-direction">distance, direction</a></li>
<li><a class="reference internal" href="#nearesttrack">NearestTrack</a></li>
<li><a class="reference internal" href="#id7">//, ⊥</a></li>
</ul>
</li>
<li><a class="reference internal" href="#curvetrack-solver">CurveTrack Solver</a><ul>
<li><a class="reference internal" href="#mode">Mode</a></li>
<li><a class="reference internal" href="#id8">計算結果の出力例</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="reference_menu.html"
                          title="previous chapter">メニュー</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="cfgfileformat.html"
                          title="next chapter">CFG file format</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/reference_measure.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cfgfileformat.html" title="CFG file format"
             >next</a> |</li>
        <li class="right" >
          <a href="reference_menu.html" title="メニュー"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">tsutsuji-trackcomputer  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="referenceguide.html" >Reference Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Measure ウィンドウ</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, konawasabi.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.2.
    </div>
  </body>
</html>
===========
Handling kiloposts
===========

.. image:: ./files/handlingkp.png

inputã§æŒ‡å®šã—ãŸmapãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã€è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆã¦åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™æ©Ÿèƒ½ã§ã™ã€‚
è·é›¢ç¨‹ã®æ›¸ãæ›ãˆæ–¹æ³•ã¯ :ref:`ref_handlingkp_mode` ã«ç¤ºã™4ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰é¸æŠã§ãã¾ã™ã€‚
ã“ã®æ©Ÿèƒ½ã¯tsutsujiã®ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ã¨ã¯ç‹¬ç«‹ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚

input
-------
è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆãŸã„mapãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚


output
-------
è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆãŸmapãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¾ã™ã€‚

input: `/hoge/fuga/piyo.txt` ã§ã‚ã‚‹å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯output: `/hoge/fuga/result/` ãŒæŒ‡å®šã•ã‚Œã¾ã™ã€‚
æ–°ã—ãä½œæˆã•ã‚ŒãŸresultãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«ã€inputã§æŒ‡å®šã—ãŸmapãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å¤‰æ›çµæœãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

includeè¦ç´ (ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–)ã®æ‰±ã„
==============================

æŒ‡å®šã—ãŸmapãƒ•ã‚¡ã‚¤ãƒ«ã«includeè¦ç´ ãŒå«ã¾ã‚Œã¦ã„ãŸå ´åˆã€includeè¦ç´ ãŒæŒ‡å®šã™ã‚‹mapãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã‚‚åŒæ§˜ã®å‡¦ç†ã‚’è¡Œã„ã€inputå´ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã€ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æ¥µåŠ›ç¶­æŒã—ã¦çµæœã‚’å‡ºåŠ›ã—ã¾ã™ã€‚

ãŸã ã—ã€ :ref:`ref_handlingkp_kprange` ã§è·é›¢ç¨‹ç¯„å›²ã‚’è¨­å®šã—ã¦ã„ãŸå ´åˆã§ã€includeè¦ç´ ã®ç›´å‰ã®è·é›¢ç¨‹ãŒãã®ç¯„å›²å¤–ã«ã‚ã‚‹å ´åˆã€ãã®includeè¦ç´ ãŒæŒ‡å®šã™ã‚‹mapãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸€åˆ‡å‡¦ç†ã•ã‚Œã¾ã›ã‚“ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

ä¾‹
++++

Input
~~~~~~~

filepath::

  /hoge/fuga/piyo.txt
  

kilopost range::

  start: 100
  end: 200

  
map::

  0;
  include "foo/bar.txt";

  100;
  include "baz.txt";

  150;
  include "foo/bar/qux.txt";

  300;
  include "foobar.txt";

  
output
~~~~~~~

* å‡ºåŠ›ã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

  * /hoge/fuga/results
    
    * piyo.txt
    * baz.txt
    * foo/
      
      * bar/

	* qux.txt

* å®Ÿè¡Œã•ã‚Œãªã„includeè¦ç´ 
  
  * `include "foo/bar.txt";`
  * `include "foobar.txt";`


.. _ref_handlingkp_mode:

Mode
-----

0. echo
==========

* è·é›¢ç¨‹ã®æ›¸ãæ›ãˆã¯è¡Œã‚ãšã€inputãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’ãã®ã¾ã¾å‡ºåŠ›ã™ã‚‹

* å¾Œè¿°ã® :ref:`ref_handlingkp_kprange` ã¨çµ„ã¿åˆã‚ã›ã¦ã€ç‰¹å®šã®è·é›¢ç¨‹ç¯„å›²ã«ã‚ã‚‹ãƒãƒƒãƒ—è¦ç´ ã‚’æŠ½å‡ºã™ã‚‹å ´åˆã«ä½¿ç”¨ã§ãã‚‹

å®Ÿè¡Œä¾‹
+++++++

Kilopost range::
  
  start: 700
  end: 800

input map::
  
  346;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  368;
  Curve.Begin(-200,-0.07);
  370;
  Curve.BeginTransition();
  392;
  Curve.End();

  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);
  $foo + 24;
  Curve.BeginTransition();
  $foo + 46;
  Curve.End();

  $bar = 894;
  $bar;
  Curve.BeginTransition();
  Curve.SetCenter(1.067/2);
  $bar + 22;
  Curve.Begin(200,0.07);
  $bar + 24;
  Curve.BeginTransition();
  $bar + 46;
  Curve.End();

output map::

  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);
  $foo + 24;
  Curve.BeginTransition();
  $foo + 46;
  Curve.End();
  $bar = 894;

æ³¨æ„ç‚¹
++++++

:ref:`ref_handlingkp_kprange` ã®æŒ‡å®šã«ã‚ˆã‚‰ãšã€å¤‰æ•°ã¸ã®ä»£å…¥è¦ç´ (ä¸Šè¨˜ä¾‹ã§ã® `$foo = 700;`, `$bar = 894;`)ã¯å¿…ãšå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚
mapãƒ•ã‚¡ã‚¤ãƒ«ã§ã®å¤‰æ•°ä½¿ç”¨çŠ¶æ³ã«ã‚ˆã£ã¦ã¯ã€BveTsæœ¬ä½“ã§ã®èª­ã¿è¾¼ã¿æ™‚ã«æ„å›³ã—ãªã„çµæœã¨ãªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ã®ã§ã€è·é›¢ç¨‹ã«å¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹mapã§ã¯å‡ºåŠ›å†…å®¹ã‚’ã‚ˆãç¢ºèªã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚


1. evaluate
============

* å¤‰æ•°ã€æ¼”ç®—å­ã€æ•°å­¦é–¢æ•°ã§è¨˜è¿°ã•ã‚ŒãŸè·é›¢ç¨‹ã‚’æ•°å€¤ã«å¤‰æ›ã™ã‚‹
  
å®Ÿè¡Œä¾‹
+++++++

input map::
  
  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);
  $foo + 24;
  Curve.BeginTransition();
  $foo + 46;
  Curve.End();
  

output map::

  $foo = 700;
  700.000000;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  722.000000;
  Curve.Begin(-200,-0.07);
  724.000000;
  Curve.BeginTransition();
  746.000000;
  Curve.End();

æ³¨æ„ç‚¹
++++++

è·é›¢ç¨‹ã‹ã‚‰é™¤å»ã•ã‚ŒãŸå¤‰æ•° `$foo` ã¸ã®ä»£å…¥è¦ç´ ( `$foo = 700;` ) ã¯ãã®ã¾ã¾å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚


2. new variable
================

* æ–°ã—ã„å¤‰æ•°ã§è·é›¢ç¨‹ã‚’ã‚ªãƒ•ã‚»ãƒƒãƒˆã™ã‚‹å ´åˆã‚’æ„å›³ã—ãŸãƒ¢ãƒ¼ãƒ‰
* æ¬¡ã®è¦é ˜ã§è·é›¢ç¨‹ã®å¤‰æ›ã‚’è¡Œã†

1. inputã—ãŸmapå…ˆé ­ã«ã€initializationãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸè¦ç´ ã‚’æŒ¿å…¥ã™ã‚‹
2. è·é›¢ç¨‹ã‚’æ•°å€¤ã«å¤‰æ›ã™ã‚‹(mode 1ã¨åŒã˜ä½œç”¨)
3. New variable/expressionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸæ–‡å­—åˆ—ã§è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆã‚‹

   * ã“ã“ã§å…¥åŠ›ã—ãŸæ–‡å­—åˆ—ä¸­ã® `distance` ã®ã¿ã€ãã®æ™‚ç‚¹ã§ã®è·é›¢ç¨‹æ•°å€¤ã«ç½®ãæ›ãˆã‚‰ã‚Œã‚‹

å®Ÿè¡Œä¾‹
+++++++

initialization::

  $piyo = 200;

New variable/expression::

  $piyo + distance *2

input map::
  
  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);
  $foo + 24;
  Curve.BeginTransition();
  $foo + 46;
  Curve.End();

output map::

  # added by kilopost handling
  $piyo = 200;

  $foo = 700;
  $piyo + 700.000000 *2;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $piyo + 722.000000 *2;
  Curve.Begin(-200,-0.07);
  $piyo + 724.000000 *2;
  Curve.BeginTransition();
  $piyo + 746.000000 *2;
  Curve.End();

æ³¨æ„ç‚¹
++++++

è·é›¢ç¨‹ã‹ã‚‰é™¤å»ã•ã‚ŒãŸå¤‰æ•° `$foo` ã¸ã®ä»£å…¥è¦ç´ ( `$foo = 700;` ) ã¯ãã®ã¾ã¾å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

initialization ã§æ–°ã—ã„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹å ´åˆã€å¤‰æ•°åã¯inputãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã§ç”¨ã„ã¦ã„ãªã„ã‚‚ã®ã¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
inputãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã§ç”¨ã„ã¦ã„ã‚‹ã‚‚ã®ã¨åŒã˜å¤‰æ•°å(ã“ã“ã§ã¯ `$foo` )ã‚’ä½¿ã†ã¨ã€inputãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ `$foo` ã¸ã®ä»£å…¥è¦ç´ ( `$foo = 700;` )ãŒæ®‹ã£ã¦ã„ã‚‹ãŸã‚äºˆæœŸã—ãªã„å‹•ä½œã‚’ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

New variable/expressionã«å…¥åŠ›ã™ã‚‹æ–‡å­—åˆ—ã®æœ«å°¾ã«ã¯ `;` ã‚’ã¤ã‘ãªã„ã§ãã ã•ã„ã€‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚


3. conversion by new example
=============================

* è·é›¢ç¨‹ã‚’å®šæ•°å€ã€å®šæ•°åŠ ç®—ã™ã‚‹å ´åˆã‚’æ„å›³ã—ãŸãƒ¢ãƒ¼ãƒ‰
* æ¬¡ã®è¦é ˜ã§è·é›¢ç¨‹ã®å¤‰æ›ã‚’è¡Œã†

1. inputã—ãŸmapå…ˆé ­ã«ã€initializationãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸè¦ç´ ã‚’æŒ¿å…¥ã™ã‚‹
2. è·é›¢ç¨‹ã‚’æ•°å€¤ã«å¤‰æ›ã™ã‚‹(mode 1,2ã¨åŒã˜ä½œç”¨)
3. New variable/expressionãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›ã—ãŸæ•°å¼ã§è¨ˆç®—ã—ãŸæ•°å€¤ã«è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆã‚‹

   * ã“ã“ã§å…¥åŠ›ã™ã‚‹æ•°å¼ã¨ã—ã¦ã¯ã€BveTsæœ¬ä½“ã§ä½¿ç”¨ã§ãã‚‹å¤‰æ•°ã€æ¼”ç®—å­ã€æ•°å­¦é–¢æ•°ãŒä½¿ç”¨ã§ãã¾ã™ã€‚
   * æ•°å¼ä¸­ã® `distance` ã¯ã€ãã®æ™‚ç‚¹ã§ã®è·é›¢ç¨‹æ•°å€¤ã¨ãªã‚‹

å®Ÿè¡Œä¾‹
+++++++

initialization::

  $piyo = 200;

New variable/expression::

  $piyo + distance *2

input map::
  
  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);
  $foo + 24;
  Curve.BeginTransition();
  $foo + 46;
  Curve.End();

output map::

  # added by kilopost handling
  $piyo = 200;

  1600.000000;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  1644.000000;
  Curve.Begin(-200,-0.07);
  1648.000000;
  Curve.BeginTransition();
  1692.000000;
  Curve.End();

æ³¨æ„ç‚¹
++++++

è·é›¢ç¨‹ã‹ã‚‰é™¤å»ã•ã‚ŒãŸå¤‰æ•° `$foo` ã¸ã®ä»£å…¥è¦ç´ ( `$foo = 700;` ) ã¯ãã®ã¾ã¾å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

initialization ã§æ–°ã—ã„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹å ´åˆã€å¤‰æ•°åã¯inputãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã§ç”¨ã„ã¦ã„ãªã„ã‚‚ã®ã¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
inputãƒ•ã‚¡ã‚¤ãƒ«ä¸­ã§ç”¨ã„ã¦ã„ã‚‹ã‚‚ã®ã¨åŒã˜å¤‰æ•°å(ã“ã“ã§ã¯ `$foo` )ã‚’ä½¿ã†ã¨ã€inputãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ã‚‹ `$foo` ã¸ã®ä»£å…¥è¦ç´ ( `$foo = 700;` )ãŒæ®‹ã£ã¦ã„ã‚‹ãŸã‚æœ¬æ¥ã®æ„å›³ã¨ã¯ç•°ãªã‚‹å‹•ä½œã‚’ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

New variable/expressionã«å…¥åŠ›ã™ã‚‹æ•°å¼ã®æœ«å°¾ã«ã¯ `;` ã‚’ã¤ã‘ãªã„ã§ãã ã•ã„ã€‚ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

.. _ref_handlingkp_kprange:

Output original kilopost
==========================

ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆã€è·é›¢ç¨‹ã‚’æ›¸ãæ›ãˆã‚‹mode 1, 2, 3ã«ã¦ã€æ›¸ãæ›ãˆã‚‹å‰ã®è·é›¢ç¨‹ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
mode 0ã§ã¯ä½•ã‚‚ã—ã¾ã›ã‚“ã€‚

å®Ÿè¡Œä¾‹
+++++++

mode::

  1. evaluate
  âœ…Output original kilopost

input map::
  
  $foo = 700;
  $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  $foo + 22;
  Curve.Begin(-200,-0.07);

output map::

  $foo = 700;
  700.000000;# $foo;
  Curve.BeginTransition();
  Curve.SetCenter(-1.067/2);
  722.000000;# $foo + 22;
  Curve.Begin(-200,-0.07);



Sort by kilopost
=================

ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆã€èª­ã¿è¾¼ã‚“ã ãƒãƒƒãƒ—è¦ç´ ã‚’è·é›¢ç¨‹æ˜‡é †ã«ã‚½ãƒ¼ãƒˆã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
ã“ã®æ©Ÿèƒ½ã¯å…¨ã¦ã®modeã«å¯¾ã—ã¦æœ‰åŠ¹ã§ã™ã€‚

å®Ÿè¡Œä¾‹
+++++++

mode::

  0. echo
  âœ…Sort by kilopost

input map::

  $fuga = 500.000000;

  $fuga + 0.00;
  Track['up'].X.Interpolate(-7.00,0.00);
  $fuga + 50.00;
  Track['up'].X.Interpolate(-7.00,-382.66);

  $fuga + 0.00;
  Track['up'].Y.Interpolate(0.00,0.00);
  $fuga + 50.00;
  Track['up'].Y.Interpolate(0.00,0.00);

  $fuga + 50.00;
  Track['up'].Cant.Interpolate(0.000);

  $fuga + 0.00;
  Track['up'].Cant.SetFunction(1);

  $fuga + 0.00;
  Track['up'].Cant.SetGauge(1.067);

output map::

  $fuga = 500.000000;

  $fuga + 0.00;
  Track['up'].X.Interpolate(-7.00,0.00);
  Track['up'].Y.Interpolate(0.00,0.00);
  Track['up'].Cant.SetFunction(1);

  Track['up'].Cant.SetGauge(1.067);


  $fuga + 50.00;
  Track['up'].X.Interpolate(-7.00,-382.66);

  Track['up'].Y.Interpolate(0.00,0.00);

  Track['up'].Cant.Interpolate(0.000);

  Track['up'].Cant.SetCenter(-0.533);

æ³¨æ„ç‚¹
++++++

mode 2ã§ã¯æ›¸ãæ›ãˆå‰ã®è·é›¢ç¨‹å€¤ã«å¾“ã£ã¦ã‚½ãƒ¼ãƒˆã‚’è¡Œã„ã€mode 3ã§ã¯æ›¸ãæ›ãˆå¾Œã®å€¤ã«ã‚ˆã£ã¦ã‚½ãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™ã€‚
å…¥åŠ›ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã¨New variable/expressionã®å†…å®¹ã«ã‚ˆã£ã¦ã¯äºˆæƒ³ã¨ç•°ãªã‚‹ã‚½ãƒ¼ãƒˆçµæœã‚’å¾—ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

Kilopost range
---------------
å¤‰æ›å‡¦ç†ã‚’è¡Œã„ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¸æ›¸ãå‡ºã™è·é›¢ç¨‹ã®ä¸‹é™ã€ä¸Šé™ã‚’è¨­å®šã—ã¾ã™ã€‚
ã“ã“ã§ã®è·é›¢ç¨‹ã¯ã€å¤‰æ›å‰ã®å€¤ï¼ˆinputã§æŒ‡å®šã—ãŸmapãƒ•ã‚¡ã‚¤ãƒ«ã®å€¤ï¼‰ã‚’æŒ‡ã—ã¾ã™ã€‚
å…¨ã¦ã®ãƒ¢ãƒ¼ãƒ‰ã§Kilopost rangeã®æŒ‡å®šã¯æœ‰åŠ¹ã§ã™ã€‚

start
======
ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€ `è·é›¢ç¨‹ >= startã®å€¤` ã®è¦ç´ ã«ã¤ã„ã¦ã®ã¿outputãƒ•ã‚¡ã‚¤ãƒ«ã¸å‡ºåŠ›ã—ã¾ã™ã€‚
ã“ã‚Œã‚ˆã‚Šæ‰‹å‰ã«ã‚ã‚‹è¦ç´ ã¯outputãƒ•ã‚¡ã‚¤ãƒ«ã¸å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚ **(å¤‰æ•°ã¸ã®ä»£å…¥è¦ç´ ã‚’é™¤ã)**

ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒç©ºã®å ´åˆã€è·é›¢ç¨‹ã®ä¸‹é™ã¯è¨­å®šã•ã‚Œã¾ã›ã‚“ã€‚

end
====
ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€ `è·é›¢ç¨‹ <= endã®å€¤` ã®è¦ç´ ã«ã¤ã„ã¦ã®ã¿outputãƒ•ã‚¡ã‚¤ãƒ«ã¸å‡ºåŠ›ã—ã¾ã™ã€‚
ã“ã‚Œã‚ˆã‚Šå¾Œã‚ã«ã‚ã‚‹è¦ç´ ã¯outputãƒ•ã‚¡ã‚¤ãƒ«ã¸å‡ºåŠ›ã•ã‚Œã¾ã›ã‚“ã€‚ **(å¤‰æ•°ã¸ã®ä»£å…¥è¦ç´ ã‚’é™¤ã)**

ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãŒç©ºã®å ´åˆã€è·é›¢ç¨‹ã®ä¸Šé™ã¯è¨­å®šã•ã‚Œã¾ã›ã‚“ã€‚

Search
-------

ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€Searchãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ–‡å­—åˆ—ãŒå«ã¾ã‚Œã‚‹ãƒãƒƒãƒ—è¦ç´ ã®ã¿ã‚’æŠ½å‡ºã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãå‡ºã—ã¾ã™ã€‚

Regular expressionã«ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ã¦ã„ã‚‹å ´åˆã¯ã€Searchãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ–‡å­—åˆ—ã‚’ `æ­£è¦è¡¨ç¾ <https://docs.python.org/ja/3/library/re.html#regular-expression-syntax>`__ ã¨è§£é‡ˆã—ã¦ã€æ¡ä»¶ã«åˆè‡´ã™ã‚‹ãƒãƒƒãƒ—è¦ç´ ã‚’æŠ½å‡ºã—ã¾ã™ã€‚

ã“ã®æ©Ÿèƒ½ã¯ä¸Šè¨˜å…¨ã¦ã®mode, ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦æœ‰åŠ¹ã§ã™ã€‚

æ³¨æ„ç‚¹
=======

1. ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´ ã€å¤‰æ•°ã¸ã®ä»£å…¥è¦ç´ ã€includeè¦ç´ ã¯Searchæ–‡å­—åˆ—ã®å†…å®¹ã«ã‚ˆã‚‰ãšå¿…ãšå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚
2. Regular expressionã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ãªã„å ´åˆã€Searchæ–‡å­—åˆ—ã§ã®å¤§æ–‡å­—ã€å°æ–‡å­—ã®åŒºåˆ¥ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚
3. Sort by kilopostã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ãªã„å ´åˆã€å…¥åŠ›ãƒãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã«ã‚ˆã£ã¦ã¯è·é›¢ç¨‹è¦ç´ ã®ã¿ãŒå‡ºåŠ›ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

3.ã®ä¾‹
++++++

mode::

  0. echo
  ğŸŸ©Sort by kilopost
  âœ…Search, ğŸŸ©Regular expression

search::
  
  Track['up'].Y

input map::

  $fuga = 500.000000;

  $fuga + 0.00;
  Track['up'].X.Interpolate(-7.00,0.00);
  $fuga + 50.00;
  Track['up'].X.Interpolate(-7.00,-382.66);

  $fuga + 0.00;
  Track['up'].Y.Interpolate(0.00,0.00);
  $fuga + 50.00;
  Track['up'].Y.Interpolate(0.00,0.00);

  $fuga + 50.00;
  Track['up'].Cant.Interpolate(0.000);

  $fuga + 0.00;
  Track['up'].Cant.SetFunction(1);

  $fuga + 0.00;
  Track['up'].Cant.SetGauge(1.067);

output map::
  
  $fuga = 500.000000;

  $fuga + 0.00;
  $fuga + 50.00;

  $fuga + 0.00;
  Track['up'].Y.Interpolate(0.00,0.00);
  $fuga + 50.00;
  Track['up'].Y.Interpolate(0.00,0.00);

  $fuga + 50.00;

  $fuga + 0.00;

  $fuga + 0.00;


Do It
-------
ä¸Šè¨˜ã®è¨­å®šã«åŸºã¥ã„ã¦ã€outputã§æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚
